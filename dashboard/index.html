<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MONITOX PRO | Dashboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;800&family=Inter:wght@300;400;600&family=JetBrains+Mono:wght@400;700&display=swap"
    rel="stylesheet">
  <script type="module" crossorigin src="/assets/index-BLdlpJ1b.js"></script>
  <link rel="stylesheet" crossorigin href="/assets/index-f-rG6AEr.css">
</head>

<body>
  <div id="login-screen" class="login-overlay">
    <div class="login-box">
      <div class="login-header">
        <div class="login-logo">M</div>
        <h2>MONITOX <span>PRO</span></h2>
        <p>ENTERPRISE MONITORING SYSTEM</p>
      </div>
      <div class="login-form">
        <div class="input-group">
          <label>Identificador</label>
          <input type="text" id="username" placeholder="Usuario Administrador" value="admin">
        </div>
        <div class="input-group">
          <label>Token de Acceso</label>
          <input type="password" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
        </div>
        <button id="login-btn" class="btn btn-primary login-btn">INGRESAR AL SISTEMA</button>
      </div>
      <div class="login-footer">
        &copy; 2026 MONITOX PRO INTERNACIONAL. SECURE ACCESS ONLY.
      </div>
    </div>
  </div>

  <!-- Note: CSS uses #app as the main container flexbox -->
  <div id="app" style="display:none;">
    <aside class="sidebar">
      <div class="brand">
        <div class="logo-icon">M</div>
        <h1>MONITOX <span>PRO</span></h1>
      </div>
      <nav>
        <div class="nav-item active" data-view="dashboard">üìä Dashboard</div>
        <div class="nav-item" data-view="equipos">üñ•Ô∏è Equipos</div>
        <div class="nav-item" data-view="registros">üìú Registros</div>
        <div class="nav-item" data-view="config">‚öôÔ∏è Configuraci√≥n</div>
      </nav>

      <div class="status-panel">
        <div class="status-item">
          <span>Servidor:</span>
          <span class="status-indicator online">ESTABLECIENDO...</span>
        </div>
        <div class="status-item">
          <span>Activos:</span>
          <span id="active-count">0</span>
        </div>
      </div>
    </aside>

    <!-- Main Content Area: CSS class is .content -->
    <main class="content">
      <header class="top-bar">
        <div class="search-box">
          <input type="text" placeholder="Buscar equipo..." id="search-input">
        </div>
        <div class="admin-profile">
          <span class="admin-label">MODO ADMIN</span>
          <div class="admin-avatar">A</div>
        </div>
      </header>

      <section id="view-dashboard" class="content-view active">
        <div class="tabs-container" id="group-tabs">
          <div class="tab-item active" onclick="window.dashboard.setGroup('all')">TODOS</div>
        </div>

        <div id="empty-state" class="empty-state">
          <h3>SIN CONEXIONES ACTIVAS</h3>
          <p>Los dispositivos aparecer√°n aqu√≠ autom√°ticamente una vez se vinculen.</p>
        </div>

        <div class="client-grid" id="client-grid"></div>
      </section>

      <section id="view-equipos" class="content-view">
        <div class="view-header">
          <h1>GESTI√ìN DE EQUIPOS</h1>
        </div>
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>Nombre</th>
                <th>ID Persistente</th>
                <th>Grupo</th>
                <th>Sistema</th>
                <th>Estado</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody id="equipos-table-body"></tbody>
          </table>
        </div>
      </section>

      <section id="view-registros" class="content-view">
        <div class="view-header">
          <h1>HISTORIAL DE ACTIVIDAD</h1>
        </div>
        <div id="log-list" class="log-list"></div>
      </section>

      <section id="view-config" class="content-view">
        <div class="view-header">
          <h1>CONFIGURACI√ìN DEL SISTEMA</h1>
        </div>
        <div class="config-card">
          <h3>SEGURIDAD ADMINISTRATIVA</h3>
          <div class="config-form">
            <div class="form-group">
              <label>CONTRASE√ëA ACTUAL</label>
              <input type="password" id="config-old-pass">
            </div>
            <div class="form-group">
              <label>NUEVA CONTRASE√ëA</label>
              <input type="password" id="config-new-pass">
            </div>
            <div class="form-group">
              <label>CONFIRMAR CONTRASE√ëA</label>
              <input type="password" id="config-confirm-pass">
            </div>
            <div class="config-actions">
              <button class="btn btn-primary" id="btn-change-pass">GUARDAR CAMBIOS</button>
            </div>

            <hr style="border: 0; border-top: 1px solid rgba(255,255,255,0.05); margin: 30px 0;">

            <button class="btn btn-danger" onclick="window.dashboard.logout()"
              style="width: auto; padding: 10px 30px;">CERRAR SESI√ìN</button>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Viewer Modal -->
  <div id="viewer" class="modal-overlay">
    <div class="modal-content large">
      <div class="modal-header">
        <h3 id="viewer-title">MONITOR: CARGANDO...</h3>
        <button class="close-btn" id="viewer-close">&times;</button>
      </div>
      <div class="modal-body viewer-body">
        <img src="" id="modal-img" alt="Vista ampliada">
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" id="btn-popout" style="width: auto;">CONSOLA FLOTANTE</button>
        <button class="btn btn-secondary" id="btn-close-viewer" style="width: auto;">CERRAR</button>
      </div>
    </div>
  </div>

  <!-- Group Modal -->
  <div id="group-modal" class="modal-overlay">
    <div class="modal-content small">
      <div class="modal-header">
        <h3>üìÇ ASIGNAR GRUPO</h3>
        <button class="close-btn" id="group-modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <p style="margin-bottom: 15px; font-size: 0.9rem; color: var(--text-secondary);">Elige un grupo existente o
          escribe uno nuevo.</p>
        <div class="form-group">
          <label>Nombre del Grupo</label>
          <input type="text" id="group-input" list="existing-groups" placeholder="Ej: Administracion, Ventas...">
          <datalist id="existing-groups"></datalist>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="btn-cancel-group">CANCELAR</button>
        <button class="btn btn-primary" id="btn-save-group">GUARDAR CAMBIOS</button>
      </div>
    </div>
  </div>

  <!-- Device Options Modal -->
  <div id="device-modal" class="modal-overlay">
    <div class="modal-content small">
      <div class="modal-header">
        <h3>‚öôÔ∏è OPCIONES DE EQUIPO</h3>
        <button class="close-btn" id="device-modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label>Nombre del Dispositivo</label>
          <input type="text" id="device-name-input" placeholder="Ej: PC-CONTABILIDAD">
        </div>
        <hr style="border:0; border-top: 1px solid rgba(255,255,255,0.05); margin: 20px 0;">
        <div
          style="background: rgba(255,50,50,0.05); padding: 15px; border-radius: 8px; border: 1px solid rgba(255,50,50,0.1);">
          <p style="color: #ff4444; font-size: 0.8rem; margin-bottom: 10px;"><b>ZONA DE PELIGRO:</b> Eliminar este
            dispositivo borrar√° permanentemente sus registros e historial.</p>
          <button class="btn btn-secondary" id="btn-delete-device"
            style="background: rgba(255,0,0,0.1); color: #ff4444; border-color: rgba(255,0,0,0.2); width: 100%;">ELIMINAR
            ESTE EQUIPO</button>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="btn-cancel-device">CANCELAR</button>
        <button class="btn btn-primary" id="btn-save-device">GUARDAR</button>
      </div>
    </div>
  </div>

</body>

</html>